@using GruppoCap
@using GruppoCap.Core.Data
@using GruppoCap.Authentication.Core
@using GruppoCap.Security.PEM

@model IList<IPermission>

@{
    ViewBag.Title = "Permissions list";
}

<div class="row">

    <div class="col-sm-2">
        <div class="row">
            <div class="col-sm-12">
                <ul class="nav nav-pills nav-stacked detail-menu">
                    @Html.AreaMenuLink("Permissions", "fa-cube", CommonUrls.Permissions, true)
                    @Html.AreaMenuLink("Permission Groups", "fa-cubes", CommonUrls.PermissionGroups)
                </ul>
            </div>
        </div>
    </div>

    <div class="col-sm-10">

        <div class="row grid-title">
            <div class="col-sm-6">
                <h1>
                    <i class="fa fa-cube"></i> Permission List
                </h1>
            </div>
            <div class="col-sm-6 text-right">
                <button type="button" class="btn btn-default title-bar-entity-button" data-toggle="modal" data-target="#createPermissionModal" onclick="notAvailableFunction();">
                    <i class="fa fa-lg fa-cube"></i>
                    <span class="text-after-icon">New Permission</span>
                </button>
            </div>
        </div>

        <div class="row">

            <div class="col-sm-12" id="permissionTableContainer" style="display: block;">

                @if (Model.Count > 0)
                {
                    @Html.Partial("_permissionList", Model)
                }
                else
                {
                    <div class="alert alert-warning" role="alert" style="padding-top: 24px;">
                        <h4><strong><i class="fa fa-lg fa-frown-o"></i></strong><span class="text-after-icon"><strong>No permission here!</strong> This could be a problem...</span></h4>
                    </div>
                }       

            </div>

        </div>

    </div>

    @*@Html.Partial("_createPermission")*@

</div>

@section scripts {
    <script>

        $(function () {
            // INIT BOOTSTRAP TOOLTIP
            $('[data-toggle="tooltip"]').tooltip();
        });

        function notAvailableFunction() {
            notifyInfo("Funzionalità non disponibile! Ti chiediamo di avere ancora un po' di pazienza...")
        }

    </script>
}
